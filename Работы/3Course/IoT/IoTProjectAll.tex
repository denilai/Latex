\documentclass[a4paper,14pt]{extarticle}

% Путь до папки с общими шаблонами
\newcommand{\pathToCommonFolder}{/home/denilai/Documents/repos/latex/Common}
% Название работы в титуле
\newcommand{\workname}{Отчет по дополнительным заданиям к работам №1-4	}
% Название дисциплины в титуле
\newcommand{\discipline}{Технологические основы Инетернета вещей}
% Название кафедры в титуле
\newcommand{\kafedra}{Кафедра Математического обеспечения и стандартизации информационных технологий}
% Тема работы в титуле
\newcommand{\theme}{Умный дом}

% Должность преподавателя в титуле
\newcommand{\rang}{ассистент}
% ФИО студента в титуле
\newcommand{\studentfio}{К.~Ю.~Денисов\\
	& & \hfill И.~А.~Кремнев\\
	& & \hfill А.~М.~Сосунов\\
	& & \hfill Д.~Н.~Федосеев}%\\И.~А.~Кремнев\\А.~М.~Сосунов\\Д.~Н.~Федосеев}
% ФИО преподавателя в титуле
\newcommand{\teacherfio}{Ю.~А.~Воронцов}


\usepackage{tabularx}


\usepackage{booktabs}
\newcolumntype{b}{X}
\newcolumntype{s}{>{\hsize=.5\hsize}X}
\newcommand{\heading}[1]{\multicolumn{1}{c}{#1}}

% установка размера шрифта для всего документа
%\fontsize{20pt}{18pt}\selectfont
\usepackage{extsizes} % Возможность сделать 14-й шрифт

% Вставка заготовки преамбулы
\input{\pathToCommonFolder/ruspreamble}

\author{Кирилл Денисов}
\title{Лабораторная работа №1}
\date{\today}

% установка полуторного интервала
% \usepackage{setspace}  
% \onehalfspacing

% использовать Times New Roman
\renewcommand{\rmdefault}{ftm}
\renewcommand{\withouttheme}{null}

\begin{document}
	\thispagestyle{empty}
	% Вставка первого титульного листа
	\input{\pathToCommonFolder/titul}
	\newpage
	\tableofcontents
	\newpage
	%\listoftables
\section{Дополнительные задания к работе №1}
\subsection{Сценарии применения технологий IoT}
Интернет вещей (Internet of Things, IoT) --- это множество физических объектов, подключенных к интернету и обменивающихся данными. Концепция IoT может существенно улучшить многие сферы нашей жизни и помочь нам в создании более удобного, умного и безопасного мира. Примеры Интернета вещей варьируются от носимых вещей, таких как умные часы, до умного дома, который умеет, например, контролировать и автоматически менять степень освещения и отопления. 
\subsubsection*{Умный дом}

Умный дом --- совокупность автоматизированного пространства и <<умных>> вещей и приборов в доме, связанных вместе одной сетью.

Умные дома появились намного раньше Интернета вещей -- например, в 1985 году в США была система \textit{Unity} — она управляла безопасностью дома.

Однако современный умный дом подразумевает под собой не только управление безопасностью — в него могут быть включены и другие системы.
\subsubsection*{Умное освещение}
Проект умного дома может предусматривать различные сценарии освещения:
\begin{itemize}
\item Схема умного дома со сценарием <<Перед сном>> предполагает установку прикроватных ламп на комфортном для чтения уровне.
\item Одно нажатие кнопки <<Все выключено>> гасит свет во всем доме.
\item Сценарий <<Обнаружение движения>> предполагает включение света на заданную мощность при обнаружении датчиком движения в зоне его действия.
\end{itemize}

\subsubsection*{Умная музыка}
Здесь интересны следующие сценарии Умного дома:
\begin{itemize}
	\item Трансляция сохраненной музыке по всему дому через распределенные звуковые зоны, доступ к которым осуществляется через  смартфон и сенсорные экраны.
	\item Автоматическое включение музыки в ванной при включении света в душе.
	\item Установка сенсорного экрана за водонепроницаемым настенным креплением в душе для управления музыкой. 
\end{itemize}
\subsubsection*{Развлекательная автоматизация}
Пример развлекательных сценариев
\begin{itemize}
	\item  Одно нажатие кнопки с подсветкой запускает сценарий «Вечеринка», предусматривающий освещение ключевых декоративных элементов с возможностью настраивания списка воспроизведения, запускаемого автоматически.
	\item Возможность получать уведомления о прибытии гостей путем передачи звукового сигнала через динамики аудиозоны.
\end{itemize}
\subsubsection*{Умная безопасность}
\begin{itemize}
	\item Встроенные оповещения, уведомляющие о том, что входная дверь оставлена открытой более пяти минут или если парадные ворота приоткрыты более чем на десять минут.
	\item  Доступ к видеопотоку системы безопасности удаленно со своего смартфона из любой точки мира.
	\item Получение уведомлений об обнаружении движения камерами видеонаблюдения.
	\item Возможность создания сценария на случай нарушения безопасности. Скажем, при получении определенного сигнала Умный дом включает освещение на 100\%, автоматически закрывает входную дверь, открывает моторизованные шторы, и передает на каждый телевизор сигнал со всех камер наблюдения.
	\item Создание временных кодов доступа гостям, если они посетят дом в отсутствие хозяев. Те будут получать уведомление о каждом таком визите.
\end{itemize}
\subsubsection*{Система климат-контроля}
\begin{itemize}
	\item Программирование штор на автоматическое открывание и закрывание в зависимости от положения солнца и загруженности дома.
	\item Программирование на <<Пробуждение>> --- постепенное открывание штор с постепенным увеличением освещения в течении пяти минут и установки температуры на желаемый уровень.
	\item Розжиг камина с помощью смартфона или планшета из любой точки дома.
\end{itemize}

\subsubsection*{Экономичные идеи автоматизации}
\begin{itemize}
	\item Измерять энергопотребление всего дома, схема за схемой, автоматически с помощью системы домашней автоматизации.
	\item Автоматизировать освещение в доме таким образом, чтобы обеспечить максимальное энергосбережение.
	\item Настроить опрыскиватели и газонные системы на автоматическое реагирование на погодные условия (чтобы исключить, полив газона в дождливые дни).
\end{itemize}
\subsubsection*{Идеи для голосового управления}
\begin{itemize}
\item  <<Окей, Google, доброе утро>>. Этот сценарий предусматривает мягкое включение света в спальне, а затем на кухне и одновременный запуск плейлиста.
\item <<Алиса, включи время вечеринки>>. Программа опускает диско-шар с потолка, включает светодиодные индикаторы, меняющие цвет, включает любимый плейлист для вечеринок на максимальную громкость.
\item <<Поставь фильм в очередь>>. Голосовая команда запускает проигрыватель \textit{Blu-ray}, приглушает свет до 30\%, рисует тени и устанавливает идеальную атмосферу для кино-сеанса.
\item  <<Окей, включи Режим сна>>. Сценарий предусматривает закрытие штор, запирание дверей и запуск расслабляющего плейлиста за час до отхода ко сну.
\item  <<Окей, Google, пора идти>>. Программа мигает светом в детских, издает раздражающий звук туманного рожка и дает понять, что пора обуваться и выходить из дома.
\item 
\end{itemize}


То есть по сути умный дом является посредником между пользователем и умными приборами --- он объединяет все их показания и выводит их пользователю в удобном для него виде --- на экран телевизора или смартфона, или же в устной форме. Ну и разумеется умный дом обрабатывает все команды пользователя и передает их приборам --- к примеру вы едете домой жарким летом и вам хочется прохлады в доме: достаточно отдать команду умному дому со смартфона и тот включит кондиционер.
\subsection {Стандарты и технологии передачи IoT}

Сегодня в решениях для домашней автоматизации (Home Automation) наблюдается настоящая война стандартов. Отдать предпочтение какому-либо достаточно сложно, поскольку у каждого из них есть свои сильные и слабые стороны.
\subsubsection*{Wi-Fi}
Wi-Fi может казаться самым очевидным решением для домашней автоматизации. Такую точку зрения поддерживает, прежде всего, его широкое распространение – по утверждениям консорциума Wi-Fi Alliance уже сегодня более 50% интернет-трафика приходится именно на долю Wi-Fi.
\subsubsection*{BlueTooth}
Исходный стандарт BlueTooth известен еще с 1994 г. Технология, изначально ориентированная на обмен данными между мобильными телефонами, сегодня стала одной из основных для связи между узлами и подключения периферийных устройств в локальных сетях. Однако даже после этого стандарт никак не подходил для организации сетей home automation.

Ситуация изменилась с появлением в 2010 г. BlueTooth Low Energy. Она разрабатывалась с прицелом на работу с компактными автономными устройствами, для многих из которых источниками служат малогабаритные маломощные батарейки.

Такое решение одной из основных проблем домашней автоматизации не могло не привлечь внимание разработчиков. Однако потенциал технологии до сих пор не получил реальной оценки, перспективы ее применения так и остаются неясными.
\subsubsection*{Z-Wave}
Z-Wave – стандарт, разработанный в 1999 г. специально для получения сигналов датчиков и управления исполнительными устройствами «умного дома». Основное его отличие – работа с миниатюрными девайсами с низким энергопотреблением. Используется радиочастотный диапазон 800-900 Мгц (нелицензируемый), в котором скорость передачи составляет до 100 кбит/с (для устройств спецификации Z-Wave Plus). Основная топология – mesh-сеть с маршрутизацией «от источника».
\subsubsection*{ZigBee}
Стандарт ZigBee, как и Z-Wave ориентирован на работу с маломощными компактными устройствами home automation и на сегодня, пожалуй, единственный кто может составить ему достойную конкуренцию и даже выигрывать в этой борьбе.

В отличие от Z-Wave использует стандартный нелицензируемый диапазон частот 2.4 ГГц. Отличаются и требования к сертификации. У подхода есть собственные преимущества и недостатки.
\subsubsection*{Подводя итог}
Рассматривая достоинства и недостатки различных технологий для «умного дома», можно сделать выводы:
\begin{itemize}
	\item От технологии Wi-Fi лучше отказаться. Использовать ее рационально только в том случае, когда необходимо передавать данные сенсоров в облачное хранилище или некоторым устройствам необходим выход в интернет (например, «умному» холодильнику – для заказа продуктов в магазине).
	\item BlueTooth LE можно рассматривать как перспективную технологию, однако придется дождаться появления на рынке нужного ассортимента девайсов (датчиков и исполнительных устройств).
	\item Использование Z-Wave – хорошее решение, однако при его применении придется внимательно отнестись к подбору устройств по рабочим частотам и быть готовым к значительным расходам на систему.
	\item ZigBee – отличный вариант с точки зрения масштабов и стоимости, однако обязательным условием работоспособности системы становится проверка совместимости ее компонентов.
\end{itemize}

\if
В связи с быстрым развитием Интернета вещей и исключительными особенностями данной сети (например, устройства с низким энергопотреблением, низкие скорости передачи и т.д.) возникла необходимость в создании протоколов, которые будут удовлетворять данным требованиям. 

В общем случае протоколы делят на группы в зависимости от участка сети, на котором они используются. Так в рамках концепции Интернета вещей существуют следующие участки: сенсорный узел --- сенсорный узел (самый распространенный протокол DDS), сенсорный узел --- сервер (CoAP, MQTT, XMPP, STOMP), сервер --- сервер (AMQP). Существует множество протоколов передачи данных, в качестве примера приведены самые популярные.
\begin{itemize}
	\item DDS \textit{(Data Distribution Service)} --- реализует шаблон публикации-подписки для отправки и приема данных, событий и команд среди конечных узлов. Узлы-издатели создают информацию, <<topic>> (темы, разделы: температура, местоположение, давление) и публикуют шаблоны. Узлам, заинтересовавшимся в данных разделах, DDS прозрачно доставляет созданные шаблоны. В качестве транспорта --- UDP. Также DDS позволяет управлять параметрами QoS (качество облуживания).
	
	\item CoAP \textit{(Constrained Application Protocol)} --- с точки зрения пользователя похож на протокол HTTP, но отличается малым размером заголовков, что подходит для сетей с ограниченными возможностями. Использует архитектуру клиент-сервер и подходит для передачи информации о состоянии узла на сервер (сообщения GET, PUT, HEAD, POST, DELETE, CONNECT). В качестве транспорта --- UDP.
	
	\item XMPP \textit{(Extensible Messaging and Presence Protocol)} --- давно используется в сети Интернет для передачи сообщений в режиме реального времени, благодаря формату XML подходит для использования в сетях IoT. Работает поверх архитектур издатель-подписчик и клиент-сервер. Также используется для адресации устройств в небольших сетях (адресация вида <<name@domain.com>>).
	
	\item MQTT \textit{(Message Queue Telemetry Transport)} --- осуществляет сбор данных от множества узлов и передачу на сервер. Основывается на модели издатель-подписчик с использованием промежуточного сервера --- брокера (приоритезация сообщений, формирование очередей и др.). В качестве транспорта --- TCP. На основе MQTT был сформирован специализированный протокол MQTT-SN для сенсорных сетей.
\end{itemize}







\fi
\subsection{Перспективы\\развития технологии Умного дома}
Мы считаем, что данная отрасль Интернета вещей в скором времени найдет своего покупателя и станет чуть ли не синонимом концепции <<Интернет вещей>>, так как воспользоваться устройствами Умного дома смогут и люди не имеющие технического образования. Род их деятельности так же не важен.

Данная технология станет массовой, когда издержки, связанные с производством таких устройств и, как следствие, их цена, уменьшатся.
\subsubsection*{Проекты, предлагаемые к реализации}
Проекты инфраструктуры Умного дома, рассматриваемые к реализации в ходе данной проектной работы:
\begin{enumerate}
	\item Дверной замок, отпирающийся по стуку хозяина;
	\item Освещение комнаты, пульсирующее в такт музыке;
	\item Навык для голосового помощника Алиса;
	\item Программируемый музыкальный замок и камера ;
	\item Лампа, сменяющая цвета и режимы с помощью хлопков;
	\item Прибор, закрывающий шторы в помещении по достижении определенного уровня освещенности;
	\item Умная система вентиляции и веб-клиент к ней.
\end{enumerate}
\newpage
\section{Дополнительные задания к работе №2}
После рассмотрения вышеупомянутых отраслей Интернета вещей, было принято решение разработать систему управления освещением Умного дома.

\subsection{Отраслевая принадлежность}
Данное технологическое решение относится к отрасли Умного дома, то есть находится на пользовательском уровне, но после внесения небольших изменений, может быть так же применено в промышленном секторе.
\subsection{Актуальность решения}
Актуальность данного решения обусловлена тем, что ручное управление электропитанием в жилом помещении, и освещением в частности, требует слишком большого внимания со стороны пользователя и может быть полностью автоматизировано.

При этом вероятность возникновения аварийных ситуаций снижается, а расходование ресурсов оптимизируется.

Также появляется возможность обеспечить бесперебойную работу всех потребителей питание в жилом помещении.

\subsection{Перечень оборудования}
Отладочная модель рассматриваемой системы будет построена с использованием компонентов WB-demo-kit v.2. Перечислим необходимый перечень оборудования
\begin{enumerate}
	\item Настенный комбинированный датчик WB-MSW v.3,
	\item RGB лента,
	\item Programmable Automatic Controller под управлением Debian 9.6.,
	\item Многоканальный измеритель WB-MAP12H,
	\item Автомат питания контактора,
	\item Трансформатор тока 25 А.
\end{enumerate}

\subsection{Требуемые данные} 
Для наилучшего функционирования системы необходимо располагать следующими данными о пользователях:
\begin{itemize}
	\item Период активности людей, находящихся в помещении;
	\item Степень освещенности помещения в течении дня;
	\item Уровень расхода электроэнергии;
\end{itemize}
\newpage
\section{Дополнительные задания к работе №3}
\subsection{Портрет пользователя}
Пользователем нашей системы по управлению освещением в составе инфраструктуры Умного дома может являться любой человек. Особыми техническими навыками и знаниями обладать не обязательно.

В случае, если необходимо настроить работу системы, это можно будет сделать через web интерфейс. При таком сценарии от пользователя потребуются основные навыки пользования персональным компьютером или мобильным устройством, умение взаимодействовать с графическим интерфейсом.
\subsection{Взаимодействие с системой}

При входе в помещение пользователь, двигаясь активирует датчик движения, который согласно внутренней логике устройства в зависимости от пороговых значений, а также его активности, изменяет уровень освещения или конфигурацию приборов освещения.

\subsubsection*{Ситуаций взаимодействия с сайтом}
В случае, если пользователю будет необходимо изменить конфигурацию или настройки системы освещения, ему следует посетить web-интерфейс. С помощью предоставленных инструментов пользователь сможет изменить пороговые значения или алгоритмы изменения освещения.

\subsection{Сценарии использования}
Пользователь может, находясь возле датчиков движения активировать систему, а также настроить порог активации, режимы освещения (режимы светомузыки) и цвета освещения (см. рис. \ref{fig:usecase}).

  % TODO: \usepackage{graphicx} required
  \begin{figure}[htbp]
  	\centering
  	\includegraphics[width=0.5\linewidth]{images/usecase}
  	\caption{Сценарии использования проекта}
  	\label{fig:usecase}
  \end{figure}
\newpage
\section{Дополнительные задания к работе №4}
\subsection{Требования к проекту}
\begin{enumerate}
	\item Отказоустойчивость. Организовать бесперебойную работу сайта (приложения), в случае возникновения ошибок предоставить отчет.
	
	\item Простота эксплуатации. Система должна предоставлять удобный интерфейс для настройки и взаимодействия аппаратных элементов.
	
	\item Возможность повторного использования. Необходимо предусмотреть возможность расширения функционала предложения.
	
	\item Проект должен быть построен на базе демонстрационного стенда WB-demo-kit v.2. Взаимодействие датчиков и пользователя должно быть реализовано через веб-ресурс.
\end{enumerate}
\subsection{Требования к данным}
\begin{enumerate}
	\item 
\end{enumerate}
\subsection{Архитектура проекта}
\begin{itemize}
	\item Проект выполнен на базе демонстрационного стенда WB-demo-kit v.2.
	
	\item Сайт поддерживается через WB-demo-kit v.2 на основе Nginx.
	
	\item Все датчики связаны между собой посредством внутренней логики WB-demo-kit v.2.
	
	\item Описание поведения светодиодной ленты осуществляется с помощью языка JavaScript.
	\item Передача данных осуществляется с использованием стандартов ZigBee и Bluetooth и протоколов стека TCP/IP. 

\end{itemize}
	
Приведем архитектуры проекта в виде схемы (см. рис. \ref{fig:architecture}).
% TODO: \usepackage{graphicx} required
\begin{figure}[htbp]
	\centering
	\includegraphics[width=0.5\linewidth]{images/architecture}
	\caption{Архитектура системы}
	\label{fig:architecture}
\end{figure}
\newpage
\subsection{Оборудование для реализации проекта}
\begin{itemize}
	\item WB-demo-kit v.2:
\begin{enumerate}
	\item Настенный комбинированный датчик WB-MSW v.3,
	\item RGB лента,
	\item Programmable Automatic Controller под управлением Debian 9.6.,
	\item Многоканальный измеритель WB-MAP12H,
	\item Автомат питания контактора,
	\item Трансформатор тока 25 А.
\end{enumerate}
\if 0
	\item Минимальные требования к личному ПК:
	\begin{enumerate}
		\item OS: Windows ХР/Linux,
		\item Процессор: Intel Celeron или аналоги,
		\item Доступ в Интернет 128 Кбит/c.
	\end{enumerate}
\fi
\end{itemize}

\end{document}


